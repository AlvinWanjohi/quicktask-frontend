{"ast":null,"code":"var _jsxFileName = \"/home/alvin/Documents/quicktask-frontend/src/pages/Posts.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { supabase } from \"../utils/supabaseClient\";\nimport { Search, Bell, Calendar, UserPlus, CheckCircle } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Posts = () => {\n  _s();\n  const [requests, setRequests] = useState([]);\n  const [suggestions, setSuggestions] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [joinedGroups, setJoinedGroups] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [newsletters, setNewsletters] = useState([]);\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [notifications, setNotifications] = useState([]);\n  const [userProfile, setUserProfile] = useState(null);\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        var _userGroupsResponse$d;\n        const {\n          data: userData,\n          error: userError\n        } = await supabase.auth.getUser();\n        if (userError) throw userError;\n        const userId = userData.user.id;\n        const {\n          data: profile\n        } = await supabase.from(\"profiles\").select(\"*\").eq(\"id\", userId).single();\n        setUserProfile(profile);\n        const [connectionRequestsResponse, suggestedUsersResponse, followedGroupsResponse, userGroupsResponse, upcomingEventsResponse, newslettersResponse, availableTasksResponse, notificationsResponse] = await Promise.all([supabase.from(\"connection_requests\").select(\"*\").eq(\"recipient_id\", userId), supabase.from(\"users\").select(\"*\").neq(\"id\", userId).limit(5), supabase.from(\"groups\").select(\"*\"), supabase.from(\"group_members\").select(\"group_id\").eq(\"user_id\", userId), supabase.from(\"events\").select(\"*\").gte(\"date\", new Date().toISOString()), supabase.from(\"newsletters\").select(\"*\").order(\"created_at\", {\n          ascending: false\n        }).limit(5), supabase.from(\"tasks\").select(\"*\").eq(\"status\", \"open\"), supabase.from(\"notifications\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n          ascending: false\n        }).limit(10)]);\n        setRequests(connectionRequestsResponse.data || []);\n        setSuggestions(suggestedUsersResponse.data || []);\n        setGroups(followedGroupsResponse.data || []);\n        setJoinedGroups(((_userGroupsResponse$d = userGroupsResponse.data) === null || _userGroupsResponse$d === void 0 ? void 0 : _userGroupsResponse$d.map(g => g.group_id)) || []);\n        setEvents(upcomingEventsResponse.data || []);\n        setNewsletters(newslettersResponse.data || []);\n        setTasks(availableTasksResponse.data || []);\n        setNotifications(notificationsResponse.data || []);\n      } catch (err) {\n        console.error(\"Error fetching data:\", err);\n        setError(\"Failed to load content. Please refresh the page.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [refreshTrigger]);\n  const handleConnectionRequest = async (requestId, action) => {\n    try {\n      if (action === \"accept\") {\n        await supabase.from(\"connections\").insert([{\n          user_id: userProfile.id,\n          connected_user_id: requests.find(r => r.id === requestId).sender_id\n        }]);\n      }\n      await supabase.from(\"connection_requests\").delete().eq(\"id\", requestId);\n      setRequests(prev => prev.filter(request => request.id !== requestId));\n      if (action === \"accept\") {\n        await supabase.from(\"notifications\").insert([{\n          user_id: requests.find(r => r.id === requestId).sender_id,\n          type: \"connection_accepted\",\n          content: `${userProfile.name} accepted your connection request`,\n          read: false\n        }]);\n      }\n    } catch (err) {\n      console.error(`Error ${action} request:`, err);\n      alert(`Failed to ${action} request. Please try again.`);\n    }\n  };\n  const handleApplyForTask = async taskId => {\n    try {\n      const {\n        error\n      } = await supabase.from(\"task_applications\").insert([{\n        task_id: taskId,\n        user_id: userProfile.id,\n        status: \"pending\",\n        applied_at: new Date().toISOString()\n      }]);\n      if (error) throw error;\n      alert(\"You have successfully applied for this task!\");\n      const {\n        data: taskData\n      } = await supabase.from(\"tasks\").select(\"created_by, title\").eq(\"id\", taskId).single();\n      if (taskData) {\n        await supabase.from(\"notifications\").insert([{\n          user_id: taskData.created_by,\n          type: \"task_application\",\n          content: `${userProfile.name} applied for your task: ${taskData.title}`,\n          read: false\n        }]);\n      }\n    } catch (error) {\n      console.error(\"Error applying for task:\", error);\n      alert(\"Error applying for the task. Please try again.\");\n    }\n  };\n  const handleJoinGroup = async groupId => {\n    try {\n      const {\n        error\n      } = await supabase.from(\"group_members\").insert([{\n        group_id: groupId,\n        user_id: userProfile.id,\n        joined_at: new Date().toISOString()\n      }]);\n      if (error) throw error;\n      setJoinedGroups(prev => [...prev, groupId]);\n    } catch (error) {\n      console.error(\"Error joining group:\", error);\n      alert(\"Failed to join group. Please try again.\");\n    }\n  };\n  const handleRSVP = async eventId => {\n    try {\n      const {\n        error\n      } = await supabase.from(\"event_attendees\").insert([{\n        event_id: eventId,\n        user_id: userProfile.id,\n        status: \"attending\",\n        rsvp_at: new Date().toISOString()\n      }]);\n      if (error) throw error;\n      alert(\"You've successfully RSVP'd to this event!\");\n    } catch (error) {\n      console.error(\"Error RSVPing to event:\", error);\n      alert(\"Failed to RSVP. Please try again.\");\n    }\n  };\n  const markAllNotificationsAsRead = async () => {\n    try {\n      await supabase.from(\"notifications\").update({\n        read: true\n      }).eq(\"user_id\", userProfile.id).eq(\"read\", false);\n      setNotifications(prev => prev.map(notif => ({\n        ...notif,\n        read: true\n      })));\n    } catch (error) {\n      console.error(\"Error marking notifications as read:\", error);\n    }\n  };\n  const getFilteredContent = items => {\n    return items.filter(item => Object.values(item).some(value => typeof value === 'string' && value.toLowerCase().includes(searchQuery.toLowerCase())));\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gray-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gray-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-lg text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-red-500 mb-2\",\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setRefreshTrigger(prev => prev + 1),\n          className: \"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition\",\n          children: \"Try Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this);\n  }\n  const unreadNotificationsCount = notifications.filter(n => !n.read).length;\n  const filteredTasks = getFilteredContent(tasks);\n  const filteredGroups = getFilteredContent(groups);\n  const filteredEvents = getFilteredContent(events);\n  const filteredSuggestions = getFilteredContent(suggestions);\n  const filteredNewsletters = getFilteredContent(newsletters);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white shadow-md p-4 sticky top-0 z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: \"Social Platform\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search...\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              className: \"pl-10 pr-4 py-2 border rounded-full w-64 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-3 top-2.5 text-gray-400\",\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"relative p-2 rounded-full hover:bg-gray-100 transition\",\n              onClick: markAllNotificationsAsRead,\n              children: [/*#__PURE__*/_jsxDEV(Bell, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), unreadNotificationsCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\",\n                children: unreadNotificationsCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), userProfile && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold mr-2\",\n              children: userProfile.name.charAt(0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: userProfile.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-6xl mx-auto py-6 px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex border-b mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(\"all\"),\n          className: `px-4 py-2 font-medium ${activeTab === \"all\" ? \"border-b-2 border-blue-500 text-blue-500\" : \"text-gray-600\"}`,\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(\"connections\"),\n          className: `px-4 py-2 font-medium ${activeTab === \"connections\" ? \"border-b-2 border-blue-500 text-blue-500\" : \"text-gray-600\"}`,\n          children: \"Connections\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(\"tasks\"),\n          className: `px-4 py-2 font-medium ${activeTab === \"tasks\" ? \"border-b-2 border-blue-500 text-blue-500\" : \"text-gray-600\"}`,\n          children: \"Tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(\"groups\"),\n          className: `px-4 py-2 font-medium ${activeTab === \"groups\" ? \"border-b-2 border-blue-500 text-blue-500\" : \"text-gray-600\"}`,\n          children: \"Groups\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(\"events\"),\n          className: `px-4 py-2 font-medium ${activeTab === \"events\" ? \"border-b-2 border-blue-500 text-blue-500\" : \"text-gray-600\"}`,\n          children: \"Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-lg rounded-lg p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate(\"/tasks\"),\n              className: \"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-2\",\n                children: \"Create New Post\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), notifications.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-lg rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-bold\",\n                children: \"Recent Notifications\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: markAllNotificationsAsRead,\n                className: \"text-sm text-blue-500 hover:underline\",\n                children: \"Mark all as read\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"divide-y\",\n              children: notifications.slice(0, 3).map(notification => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: `py-3 ${!notification.read ? 'bg-blue-50' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm\",\n                  children: notification.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 mt-1\",\n                  children: new Date(notification.created_at).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this)]\n              }, notification.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), (activeTab === \"all\" || activeTab === \"connections\") && requests.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-lg rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n                size: 20,\n                className: \"mr-2 text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 19\n              }, this), \"Connection Requests\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-3\",\n              children: requests.map(request => {\n                var _request$sender_name;\n                return /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"p-4 border rounded-lg bg-gray-50 hover:bg-gray-100 transition\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-500 font-bold mr-3\",\n                        children: ((_request$sender_name = request.sender_name) === null || _request$sender_name === void 0 ? void 0 : _request$sender_name.charAt(0)) || \"U\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 367,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-medium\",\n                          children: request.sender_name || \"Unknown User\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 371,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 370,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleConnectionRequest(request.id, \"accept\"),\n                        className: \"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition\",\n                        children: \"Accept\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 375,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleConnectionRequest(request.id, \"decline\"),\n                        className: \"bg-gray-300 text-gray-700 px-3 py-1 rounded hover:bg-gray-400 transition\",\n                        children: \"Decline\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 381,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 23\n                  }, this)\n                }, request.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this), (activeTab === \"all\" || activeTab === \"tasks\") && filteredTasks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-lg rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 20,\n                className: \"mr-2 text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this), \"Available Tasks\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-3\",\n              children: filteredTasks.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"p-4 border rounded-lg hover:bg-gray-50 transition\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-lg\",\n                      children: task.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 mt-1\",\n                      children: task.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 27\n                    }, this), task.deadline && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-red-500 mt-1\",\n                      children: [\"Due: \", new Date(task.deadline).toLocaleDateString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleApplyForTask(task.id),\n                    className: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition h-10\",\n                    children: \"Apply\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 23\n                }, this)\n              }, task.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this), (activeTab === \"all\" || activeTab === \"events\") && filteredEvents.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-lg rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                size: 20,\n                className: \"mr-2 text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this), \"Upcoming Events\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-3\",\n              children: filteredEvents.map(event => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"p-4 border rounded-lg hover:bg-gray-50 transition\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-lg\",\n                      children: event.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-700 mt-1\",\n                      children: event.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 441,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 mt-1\",\n                      children: [\"Date: \", new Date(event.date).toLocaleDateString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRSVP(event.id),\n                    className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition mt-3 md:mt-0\",\n                    children: \"RSVP\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 23\n                }, this)\n              }, event.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), (activeTab === \"all\" || activeTab === \"newsletters\") && filteredNewsletters.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-lg rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4\",\n              children: \"Latest Newsletters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-3\",\n              children: filteredNewsletters.map(newsletter => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"p-4 border rounded-lg hover:bg-gray-50 transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-lg\",\n                  children: newsletter.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 line-clamp-3\",\n                  children: newsletter.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: newsletter.link,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"text-blue-500 hover:underline text-sm font-medium mt-2 inline-block\",\n                  children: \"Read Full Newsletter \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 23\n                }, this)]\n              }, newsletter.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [userProfile && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-lg rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white text-2xl font-bold mx-auto\",\n                children: userProfile.name.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-bold mt-2\",\n                children: userProfile.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: userProfile.title || \"Member\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate(\"/profile\"),\n              className: \"mt-4 w-full bg-gray-100 text-gray-700 py-2 rounded hover:bg-gray-200 transition\",\n              children: \"View Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this), filteredSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-lg rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4\",\n              children: \"People You May Know\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-3\",\n              children: filteredSuggestions.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-bold mr-3\",\n                    children: user.name.charAt(0)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: user.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"text-blue-500 hover:bg-blue-50 p-1 rounded\",\n                  children: /*#__PURE__*/_jsxDEV(UserPlus, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 518,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 23\n                }, this)]\n              }, user.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this), filteredGroups.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-lg rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4\",\n              children: \"Groups\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-3\",\n              children: filteredGroups.map(group => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"p-3 border rounded-lg hover:bg-gray-50 transition\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium\",\n                      children: group.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 535,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500\",\n                      children: [group.member_count || 0, \" members\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 25\n                  }, this), joinedGroups.includes(group.id) ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs bg-green-100 text-green-700 px-2 py-1 rounded\",\n                    children: \"Joined\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 539,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleJoinGroup(group.id),\n                    className: \"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition\",\n                    children: \"Join\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 23\n                }, this)\n              }, group.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n};\n_s(Posts, \"oLyB3lszsZZvlf9E5gt8HvbJJhk=\", false, function () {\n  return [useNavigate];\n});\n_c = Posts;\nexport default Posts;\nvar _c;\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","supabase","Search","Bell","Calendar","UserPlus","CheckCircle","jsxDEV","_jsxDEV","Posts","_s","requests","setRequests","suggestions","setSuggestions","groups","setGroups","joinedGroups","setJoinedGroups","events","setEvents","newsletters","setNewsletters","tasks","setTasks","loading","setLoading","error","setError","activeTab","setActiveTab","searchQuery","setSearchQuery","notifications","setNotifications","userProfile","setUserProfile","refreshTrigger","setRefreshTrigger","navigate","fetchData","_userGroupsResponse$d","data","userData","userError","auth","getUser","userId","user","id","profile","from","select","eq","single","connectionRequestsResponse","suggestedUsersResponse","followedGroupsResponse","userGroupsResponse","upcomingEventsResponse","newslettersResponse","availableTasksResponse","notificationsResponse","Promise","all","neq","limit","gte","Date","toISOString","order","ascending","map","g","group_id","err","console","handleConnectionRequest","requestId","action","insert","user_id","connected_user_id","find","r","sender_id","delete","prev","filter","request","type","content","name","read","alert","handleApplyForTask","taskId","task_id","status","applied_at","taskData","created_by","title","handleJoinGroup","groupId","joined_at","handleRSVP","eventId","event_id","rsvp_at","markAllNotificationsAsRead","update","notif","getFilteredContent","items","item","Object","values","some","value","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","unreadNotificationsCount","n","length","filteredTasks","filteredGroups","filteredEvents","filteredSuggestions","filteredNewsletters","placeholder","onChange","e","target","size","charAt","slice","notification","created_at","toLocaleString","_request$sender_name","sender_name","task","description","deadline","toLocaleDateString","event","date","newsletter","href","link","rel","group","member_count","_c","$RefreshReg$"],"sources":["/home/alvin/Documents/quicktask-frontend/src/pages/Posts.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport {supabase}from \"../utils/supabaseClient\";\nimport { Search, Bell, Calendar, UserPlus, CheckCircle } from \"lucide-react\";\n\nconst Posts = () => {\n  const [requests, setRequests] = useState([]);\n  const [suggestions, setSuggestions] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [joinedGroups, setJoinedGroups] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [newsletters, setNewsletters] = useState([]);\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [notifications, setNotifications] = useState([]);\n  const [userProfile, setUserProfile] = useState(null);\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n\n  const navigate = useNavigate();\n\n  \n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n  \n        const { data: userData, error: userError } = await supabase.auth.getUser();\n        if (userError) throw userError;\n        \n        const userId = userData.user.id;\n        const { data: profile } = await supabase\n          .from(\"profiles\")\n          .select(\"*\")\n          .eq(\"id\", userId)\n          .single();\n        \n        setUserProfile(profile);\n        \n        const [\n          connectionRequestsResponse,\n          suggestedUsersResponse,\n          followedGroupsResponse,\n          userGroupsResponse,\n          upcomingEventsResponse,\n          newslettersResponse,\n          availableTasksResponse,\n          notificationsResponse\n        ] = await Promise.all([\n          supabase.from(\"connection_requests\").select(\"*\").eq(\"recipient_id\", userId),\n          supabase.from(\"users\").select(\"*\").neq(\"id\", userId).limit(5),\n          supabase.from(\"groups\").select(\"*\"),\n          supabase.from(\"group_members\").select(\"group_id\").eq(\"user_id\", userId),\n          supabase.from(\"events\").select(\"*\").gte(\"date\", new Date().toISOString()),\n          supabase.from(\"newsletters\").select(\"*\").order(\"created_at\", { ascending: false }).limit(5),\n          supabase.from(\"tasks\").select(\"*\").eq(\"status\", \"open\"),\n          supabase.from(\"notifications\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", { ascending: false }).limit(10)\n        ]);\n\n        setRequests(connectionRequestsResponse.data || []);\n        setSuggestions(suggestedUsersResponse.data || []);\n        setGroups(followedGroupsResponse.data || []);\n        setJoinedGroups(userGroupsResponse.data?.map((g) => g.group_id) || []);\n        setEvents(upcomingEventsResponse.data || []);\n        setNewsletters(newslettersResponse.data || []);\n        setTasks(availableTasksResponse.data || []);\n        setNotifications(notificationsResponse.data || []);\n      } catch (err) {\n        console.error(\"Error fetching data:\", err);\n        setError(\"Failed to load content. Please refresh the page.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [refreshTrigger]);\n\n  const handleConnectionRequest = async (requestId, action) => {\n    try {\n      if (action === \"accept\") {\n        await supabase.from(\"connections\").insert([\n          { user_id: userProfile.id, connected_user_id: requests.find(r => r.id === requestId).sender_id }\n        ]);\n      }\n      \n      await supabase.from(\"connection_requests\").delete().eq(\"id\", requestId);\n      setRequests(prev => prev.filter(request => request.id !== requestId));\n      \n      if (action === \"accept\") {\n        await supabase.from(\"notifications\").insert([{\n          user_id: requests.find(r => r.id === requestId).sender_id,\n          type: \"connection_accepted\",\n          content: `${userProfile.name} accepted your connection request`,\n          read: false\n        }]);\n      }\n    } catch (err) {\n      console.error(`Error ${action} request:`, err);\n      alert(`Failed to ${action} request. Please try again.`);\n    }\n  };\n\n   const handleApplyForTask = async (taskId) => {\n    try {\n      const { error } = await supabase.from(\"task_applications\").insert([{ \n        task_id: taskId,\n        user_id: userProfile.id,\n        status: \"pending\",\n        applied_at: new Date().toISOString()\n      }]);\n      \n      if (error) throw error;\n      alert(\"You have successfully applied for this task!\");\n      \n  \n      const { data: taskData } = await supabase\n        .from(\"tasks\")\n        .select(\"created_by, title\")\n        .eq(\"id\", taskId)\n        .single();\n        \n      if (taskData) {\n        await supabase.from(\"notifications\").insert([{\n          user_id: taskData.created_by,\n          type: \"task_application\",\n          content: `${userProfile.name} applied for your task: ${taskData.title}`,\n          read: false\n        }]);\n      }\n    } catch (error) {\n      console.error(\"Error applying for task:\", error);\n      alert(\"Error applying for the task. Please try again.\");\n    }\n  };\n\n  \n  const handleJoinGroup = async (groupId) => {\n    try {\n      const { error } = await supabase.from(\"group_members\").insert([{\n        group_id: groupId,\n        user_id: userProfile.id,\n        joined_at: new Date().toISOString()\n      }]);\n      \n      if (error) throw error;\n      setJoinedGroups(prev => [...prev, groupId]);\n    } catch (error) {\n      console.error(\"Error joining group:\", error);\n      alert(\"Failed to join group. Please try again.\");\n    }\n  };\n\n  \n  const handleRSVP = async (eventId) => {\n    try {\n      const { error } = await supabase.from(\"event_attendees\").insert([{\n        event_id: eventId,\n        user_id: userProfile.id,\n        status: \"attending\",\n        rsvp_at: new Date().toISOString()\n      }]);\n      \n      if (error) throw error;\n      alert(\"You've successfully RSVP'd to this event!\");\n    } catch (error) {\n      console.error(\"Error RSVPing to event:\", error);\n      alert(\"Failed to RSVP. Please try again.\");\n    }\n  };\n\n  \n  const markAllNotificationsAsRead = async () => {\n    try {\n      await supabase\n        .from(\"notifications\")\n        .update({ read: true })\n        .eq(\"user_id\", userProfile.id)\n        .eq(\"read\", false);\n      \n      setNotifications(prev => prev.map(notif => ({ ...notif, read: true })));\n    } catch (error) {\n      console.error(\"Error marking notifications as read:\", error);\n    }\n  };\n\n    const getFilteredContent = (items) => {\n    return items.filter(item => \n      Object.values(item).some(value => \n        typeof value === 'string' && value.toLowerCase().includes(searchQuery.toLowerCase())\n      )\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n        <div className=\"bg-white p-6 rounded-lg shadow-lg text-center\">\n          <h2 className=\"text-xl font-bold text-red-500 mb-2\">Error</h2>\n          <p>{error}</p>\n          <button \n            onClick={() => setRefreshTrigger(prev => prev + 1)} \n            className=\"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition\"\n          >\n            Try Again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const unreadNotificationsCount = notifications.filter(n => !n.read).length;\n  const filteredTasks = getFilteredContent(tasks);\n  const filteredGroups = getFilteredContent(groups);\n  const filteredEvents = getFilteredContent(events);\n  const filteredSuggestions = getFilteredContent(suggestions);\n  const filteredNewsletters = getFilteredContent(newsletters);\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      {/* Header with search bar and notifications */}\n      <header className=\"bg-white shadow-md p-4 sticky top-0 z-10\">\n        <div className=\"max-w-6xl mx-auto flex items-center justify-between\">\n          <h1 className=\"text-2xl font-bold text-blue-600\">Social Platform</h1>\n          \n          <div className=\"flex items-center space-x-4\">\n            {/* Search Bar */}\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                placeholder=\"Search...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10 pr-4 py-2 border rounded-full w-64 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n              <Search className=\"absolute left-3 top-2.5 text-gray-400\" size={18} />\n            </div>\n            \n            {/* Notifications */}\n            <div className=\"relative\">\n              <button \n                className=\"relative p-2 rounded-full hover:bg-gray-100 transition\"\n                onClick={markAllNotificationsAsRead}\n              >\n                <Bell size={24} />\n                {unreadNotificationsCount > 0 && (\n                  <span className=\"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                    {unreadNotificationsCount}\n                  </span>\n                )}\n              </button>\n            </div>\n            \n            {/* User profile */}\n            {userProfile && (\n              <div className=\"flex items-center\">\n                <div className=\"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold mr-2\">\n                  {userProfile.name.charAt(0)}\n                </div>\n                <span className=\"font-medium\">{userProfile.name}</span>\n              </div>\n            )}\n          </div>\n        </div>\n      </header>\n\n      {/* Main content */}\n      <main className=\"max-w-6xl mx-auto py-6 px-4\">\n        {/* Tab navigation */}\n        <div className=\"flex border-b mb-6\">\n          <button \n            onClick={() => setActiveTab(\"all\")}\n            className={`px-4 py-2 font-medium ${activeTab === \"all\" ? \"border-b-2 border-blue-500 text-blue-500\" : \"text-gray-600\"}`}\n          >\n            All\n          </button>\n          <button \n            onClick={() => setActiveTab(\"connections\")}\n            className={`px-4 py-2 font-medium ${activeTab === \"connections\" ? \"border-b-2 border-blue-500 text-blue-500\" : \"text-gray-600\"}`}\n          >\n            Connections\n          </button>\n          <button \n            onClick={() => setActiveTab(\"tasks\")}\n            className={`px-4 py-2 font-medium ${activeTab === \"tasks\" ? \"border-b-2 border-blue-500 text-blue-500\" : \"text-gray-600\"}`}\n          >\n            Tasks\n          </button>\n          <button \n            onClick={() => setActiveTab(\"groups\")}\n            className={`px-4 py-2 font-medium ${activeTab === \"groups\" ? \"border-b-2 border-blue-500 text-blue-500\" : \"text-gray-600\"}`}\n          >\n            Groups\n          </button>\n          <button \n            onClick={() => setActiveTab(\"events\")}\n            className={`px-4 py-2 font-medium ${activeTab === \"events\" ? \"border-b-2 border-blue-500 text-blue-500\" : \"text-gray-600\"}`}\n          >\n            Events\n          </button>\n        </div>\n\n        {/* Content grid layout */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Main feed (2/3 width on desktop) */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Create Post Button */}\n            <div className=\"bg-white shadow-lg rounded-lg p-4\">\n              <button \n                onClick={() => navigate(\"/tasks\")}\n                className=\"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition flex items-center justify-center\"\n              >\n                <span className=\"mr-2\">Create New Post</span>\n              </button>\n            </div>\n\n            {/* Notifications panel */}\n            {notifications.length > 0 && (\n              <div className=\"bg-white shadow-lg rounded-lg p-4\">\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h2 className=\"text-xl font-bold\">Recent Notifications</h2>\n                  <button \n                    onClick={markAllNotificationsAsRead}\n                    className=\"text-sm text-blue-500 hover:underline\"\n                  >\n                    Mark all as read\n                  </button>\n                </div>\n                <ul className=\"divide-y\">\n                  {notifications.slice(0, 3).map((notification) => (\n                    <li \n                      key={notification.id} \n                      className={`py-3 ${!notification.read ? 'bg-blue-50' : ''}`}\n                    >\n                      <p className=\"text-sm\">{notification.content}</p>\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        {new Date(notification.created_at).toLocaleString()}\n                      </p>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {/* Connection Requests */}\n            {(activeTab === \"all\" || activeTab === \"connections\") && requests.length > 0 && (\n              <div className=\"bg-white shadow-lg rounded-lg p-4\">\n                <h2 className=\"text-xl font-bold mb-4 flex items-center\">\n                  <UserPlus size={20} className=\"mr-2 text-blue-500\" />\n                  Connection Requests\n                </h2>\n                <ul className=\"space-y-3\">\n                  {requests.map((request) => (\n                    <li key={request.id} className=\"p-4 border rounded-lg bg-gray-50 hover:bg-gray-100 transition\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-500 font-bold mr-3\">\n                            {request.sender_name?.charAt(0) || \"U\"}\n                          </div>\n                          <div>\n                            <p className=\"font-medium\">{request.sender_name || \"Unknown User\"}</p>\n                          </div>\n                        </div>\n                        <div className=\"flex space-x-2\">\n                          <button \n                            onClick={() => handleConnectionRequest(request.id, \"accept\")}\n                            className=\"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition\"\n                          >\n                            Accept\n                          </button>\n                          <button \n                            onClick={() => handleConnectionRequest(request.id, \"decline\")}\n                            className=\"bg-gray-300 text-gray-700 px-3 py-1 rounded hover:bg-gray-400 transition\"\n                          >\n                            Decline\n                          </button>\n                        </div>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {/* Available Tasks */}\n            {(activeTab === \"all\" || activeTab === \"tasks\") && filteredTasks.length > 0 && (\n              <div className=\"bg-white shadow-lg rounded-lg p-4\">\n                <h2 className=\"text-xl font-bold mb-4 flex items-center\">\n                  <CheckCircle size={20} className=\"mr-2 text-blue-500\" />\n                  Available Tasks\n                </h2>\n                <ul className=\"space-y-3\">\n                  {filteredTasks.map((task) => (\n                    <li key={task.id} className=\"p-4 border rounded-lg hover:bg-gray-50 transition\">\n                      <div className=\"flex justify-between\">\n                        <div>\n                          <p className=\"font-semibold text-lg\">{task.title}</p>\n                          <p className=\"text-sm text-gray-600 mt-1\">{task.description}</p>\n                          {task.deadline && (\n                            <p className=\"text-sm text-red-500 mt-1\">\n                              Due: {new Date(task.deadline).toLocaleDateString()}\n                            </p>\n                          )}\n                        </div>\n                        <button\n                          onClick={() => handleApplyForTask(task.id)}\n                          className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition h-10\"\n                        >\n                          Apply\n                        </button>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {/* Upcoming Events */}\n            {(activeTab === \"all\" || activeTab === \"events\") && filteredEvents.length > 0 && (\n              <div className=\"bg-white shadow-lg rounded-lg p-4\">\n                <h2 className=\"text-xl font-bold mb-4 flex items-center\">\n                  <Calendar size={20} className=\"mr-2 text-blue-500\" />\n                  Upcoming Events\n                </h2>\n                <ul className=\"space-y-3\">\n                  {filteredEvents.map((event) => (\n                    <li key={event.id} className=\"p-4 border rounded-lg hover:bg-gray-50 transition\">\n                      <div className=\"md:flex justify-between\">\n                        <div>\n                          <p className=\"font-semibold text-lg\">{event.name}</p>\n                          <p className=\"text-sm text-gray-700 mt-1\">{event.description}</p>\n                          <p className=\"text-sm text-gray-600 mt-1\">\n                            Date: {new Date(event.date).toLocaleDateString()}\n                          </p>\n                        </div>\n                        <button\n                          onClick={() => handleRSVP(event.id)}\n                          className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition mt-3 md:mt-0\"\n                        >\n                          RSVP\n                        </button>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {/* Newsletters */}\n            {(activeTab === \"all\" || activeTab === \"newsletters\") && filteredNewsletters.length > 0 && (\n              <div className=\"bg-white shadow-lg rounded-lg p-4\">\n                <h2 className=\"text-xl font-bold mb-4\">Latest Newsletters</h2>\n                <ul className=\"space-y-3\">\n                  {filteredNewsletters.map((newsletter) => (\n                    <li key={newsletter.id} className=\"p-4 border rounded-lg hover:bg-gray-50 transition\">\n                      <h3 className=\"font-semibold text-lg\">{newsletter.title}</h3>\n                      <p className=\"text-gray-700 line-clamp-3\">{newsletter.content}</p>\n                      <a \n                        href={newsletter.link} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\" \n                        className=\"text-blue-500 hover:underline text-sm font-medium mt-2 inline-block\"\n                      >\n                        Read Full Newsletter \n                      </a>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar (1/3 width on desktop) */}\n          <div className=\"space-y-6\">\n            {/* User Profile Summary */}\n            {userProfile && (\n              <div className=\"bg-white shadow-lg rounded-lg p-4\">\n                <div className=\"text-center mb-4\">\n                  <div className=\"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white text-2xl font-bold mx-auto\">\n                    {userProfile.name.charAt(0)}\n                  </div>\n                  <h2 className=\"text-xl font-bold mt-2\">{userProfile.name}</h2>\n                  <p className=\"text-gray-600\">{userProfile.title || \"Member\"}</p>\n                </div>\n                <button\n                  onClick={() => navigate(\"/profile\")}\n                  className=\"mt-4 w-full bg-gray-100 text-gray-700 py-2 rounded hover:bg-gray-200 transition\"\n                >\n                  View Profile\n                </button>\n              </div>\n            )}\n\n            {/* Suggested Users */}\n            {filteredSuggestions.length > 0 && (\n              <div className=\"bg-white shadow-lg rounded-lg p-4\">\n                <h2 className=\"text-xl font-bold mb-4\">People You May Know</h2>\n                <ul className=\"space-y-3\">\n                  {filteredSuggestions.map((user) => (\n                    <li key={user.id} className=\"flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg transition\">\n                      <div className=\"flex items-center\">\n                        <div className=\"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-bold mr-3\">\n                          {user.name.charAt(0)}\n                        </div>\n                        <p className=\"font-medium\">{user.name}</p>\n                      </div>\n                      <button className=\"text-blue-500 hover:bg-blue-50 p-1 rounded\">\n                        <UserPlus size={18} />\n                      </button>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {/* Groups */}\n            {filteredGroups.length > 0 && (\n              <div className=\"bg-white shadow-lg rounded-lg p-4\">\n                <h2 className=\"text-xl font-bold mb-4\">Groups</h2>\n                <ul className=\"space-y-3\">\n                  {filteredGroups.map((group) => (\n                    <li key={group.id} className=\"p-3 border rounded-lg hover:bg-gray-50 transition\">\n                      <div className=\"flex justify-between items-center\">\n                        <div>\n                          <p className=\"font-medium\">{group.name}</p>\n                          <p className=\"text-xs text-gray-500\">{group.member_count || 0} members</p>\n                        </div>\n                        {joinedGroups.includes(group.id) ? (\n                          <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded\">\n                            Joined\n                          </span>\n                        ) : (\n                          <button\n                            onClick={() => handleJoinGroup(group.id)}\n                            className=\"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition\"\n                          >\n                            Join\n                          </button>\n                        )}\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default Posts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}