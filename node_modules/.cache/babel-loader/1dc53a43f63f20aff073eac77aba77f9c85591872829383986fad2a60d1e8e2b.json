{"ast":null,"code":"var _jsxFileName = \"/home/alvin/Documents/quicktask-frontend/src/pages/UserProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport supabase from \"../utils/supabaseClient\";\nimport { Edit, UploadCloud, Briefcase, GraduationCap, Globe, Link as LinkIcon, X, Plus, Camera } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProfile = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [editing, setEditing] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [skillInput, setSkillInput] = useState(\"\");\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    bio: \"\",\n    skills: [],\n    experience: \"\",\n    education: \"\",\n    linkedin: \"\",\n    github: \"\",\n    portfolio: \"\",\n    profile_picture: \"\"\n  });\n  useEffect(() => {\n    if (!id) {\n      console.error(\"No user ID found in URL\");\n      return;\n    }\n    fetchUser();\n  }, [id]);\n  const fetchUser = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from(\"users\").select(\"*\").eq(\"id\", id).single();\n    if (error) {\n      console.error(\"Error fetching user:\", error);\n      alert(\"Failed to fetch user data.\");\n    } else {\n      // Convert skills string to array if needed\n      const parsedUser = {\n        ...data,\n        skills: typeof data.skills === 'string' ? data.skills.split(',').map(s => s.trim()) : data.skills || []\n      };\n      setUser(parsedUser);\n      setFormData(parsedUser);\n    }\n    setLoading(false);\n  };\n  const handleEdit = () => setEditing(!editing);\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSave = async () => {\n    // Convert skills array back to string for storage\n    const dataToUpdate = {\n      ...formData,\n      skills: Array.isArray(formData.skills) ? formData.skills.join(', ') : formData.skills\n    };\n    const {\n      error\n    } = await supabase.from(\"users\").update(dataToUpdate).eq(\"id\", id);\n    if (error) {\n      console.error(\"Error updating profile:\", error);\n      alert(\"Failed to update profile.\");\n    } else {\n      setUser(formData);\n      setEditing(false);\n    }\n  };\n  const handleAddSkill = () => {\n    if (skillInput.trim() && !formData.skills.includes(skillInput.trim())) {\n      setFormData({\n        ...formData,\n        skills: [...formData.skills, skillInput.trim()]\n      });\n      setSkillInput(\"\");\n    }\n  };\n  const handleRemoveSkill = skillToRemove => {\n    setFormData({\n      ...formData,\n      skills: formData.skills.filter(skill => skill !== skillToRemove)\n    });\n  };\n  const uploadProfilePicture = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    setUploading(true);\n\n    // Create a unique file name\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${id}-${Math.random().toString(36).substring(2)}.${fileExt}`;\n    const filePath = `profile-pictures/${fileName}`;\n\n    // Upload to Supabase Storage\n    const {\n      error: uploadError\n    } = await supabase.storage.from('avatars').upload(filePath, file);\n    if (uploadError) {\n      console.error(\"Error uploading image:\", uploadError);\n      alert(\"Failed to upload profile picture.\");\n      setUploading(false);\n      return;\n    }\n\n    // Get public URL\n    const {\n      data: {\n        publicUrl\n      }\n    } = supabase.storage.from('avatars').getPublicUrl(filePath);\n\n    // Update user profile with new image URL\n    const updatedData = {\n      ...formData,\n      profile_picture: publicUrl\n    };\n    const {\n      error: updateError\n    } = await supabase.from('users').update(updatedData).eq('id', id);\n    if (updateError) {\n      console.error(\"Error updating profile with new image:\", updateError);\n      alert(\"Failed to update profile with new image.\");\n    } else {\n      setFormData(updatedData);\n      setUser(updatedData);\n    }\n    setUploading(false);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center text-gray-500\",\n    children: \"Loading user profile...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 23\n  }, this);\n  if (!user) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center text-red-500\",\n    children: \"User not found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-40 bg-gray-300 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://source.unsplash.com/random/1200x400?nature\",\n        alt: \"Cover\",\n        className: \"w-full h-full object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), editing && /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"absolute bottom-2 right-2 bg-white p-2 rounded-full shadow cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(UploadCloud, {\n          className: \"h-5 w-5 text-gray-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          className: \"hidden\",\n          accept: \"image/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative w-24 h-24 rounded-full overflow-hidden border-4 border-white shadow-lg absolute -top-12 left-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.profile_picture || \"https://i.pravatar.cc/100\",\n          alt: \"Profile\",\n          className: \"w-full h-full object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), editing && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(Camera, {\n            className: \"h-6 w-6 text-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            className: \"hidden\",\n            accept: \"image/*\",\n            onChange: uploadProfilePicture,\n            disabled: uploading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"absolute top-4 right-4 bg-gray-200 hover:bg-gray-300 p-2 rounded-full\",\n        onClick: handleEdit,\n        children: /*#__PURE__*/_jsxDEV(Edit, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 ml-32\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), editing ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"bio\",\n          value: formData.bio,\n          onChange: handleChange,\n          placeholder: \"Write your bio here...\",\n          className: \"w-full p-2 border rounded mt-2\",\n          rows: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-700\",\n          children: user.bio || \"No bio available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-2\",\n          children: \"Skills\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: [Array.isArray(formData.skills) && formData.skills.map((skill, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center\",\n            children: [skill, editing && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleRemoveSkill(skill),\n              className: \"ml-2 text-blue-600 hover:text-blue-800\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)), editing && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: skillInput,\n              onChange: e => setSkillInput(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && handleAddSkill(),\n              placeholder: \"Add skill\",\n              className: \"p-1 border rounded-l w-32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddSkill,\n              className: \"bg-blue-500 text-white p-1 rounded-r\",\n              children: /*#__PURE__*/_jsxDEV(Plus, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-2 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Briefcase, {\n            className: \"h-5 w-5 mr-2 text-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), \" Experience\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), editing ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"experience\",\n          value: formData.experience,\n          onChange: handleChange,\n          placeholder: \"Add your work experience\",\n          className: \"w-full p-2 border rounded\",\n          rows: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700\",\n          children: user.experience || \"No experience details available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-2 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(GraduationCap, {\n            className: \"h-5 w-5 mr-2 text-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), \" Education\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), editing ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"education\",\n          value: formData.education,\n          onChange: handleChange,\n          placeholder: \"Add your education\",\n          className: \"w-full p-2 border rounded\",\n          rows: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700\",\n          children: user.education || \"No education details available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-2 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Globe, {\n            className: \"h-5 w-5 mr-2 text-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), \" Social Links\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"w-24\",\n              children: \"LinkedIn:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"linkedin\",\n              value: formData.linkedin,\n              onChange: handleChange,\n              placeholder: \"LinkedIn URL\",\n              className: \"flex-1 p-2 border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"w-24\",\n              children: \"GitHub:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"github\",\n              value: formData.github,\n              onChange: handleChange,\n              placeholder: \"GitHub URL\",\n              className: \"flex-1 p-2 border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"w-24\",\n              children: \"Portfolio:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"portfolio\",\n              value: formData.portfolio,\n              onChange: handleChange,\n              placeholder: \"Portfolio URL\",\n              className: \"flex-1 p-2 border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"text-blue-600\",\n          children: [user.linkedin && /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"mb-1\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: user.linkedin,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"flex items-center hover:text-blue-800\",\n              children: [/*#__PURE__*/_jsxDEV(LinkIcon, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 21\n              }, this), \" LinkedIn\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 17\n          }, this), user.github && /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"mb-1\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: user.github,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"flex items-center hover:text-blue-800\",\n              children: [/*#__PURE__*/_jsxDEV(LinkIcon, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 21\n              }, this), \" GitHub\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this), user.portfolio && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: user.portfolio,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"flex items-center hover:text-blue-800\",\n              children: [/*#__PURE__*/_jsxDEV(LinkIcon, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 21\n              }, this), \" Portfolio\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 17\n          }, this), !user.linkedin && !user.github && !user.portfolio && /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"text-gray-500\",\n            children: \"No social links added yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), editing && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 border-t flex justify-end\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditing(false),\n        className: \"bg-gray-300 text-gray-700 px-4 py-2 rounded mr-2\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        className: \"bg-blue-500 text-white px-4 py-2 rounded\",\n        disabled: uploading,\n        children: uploading ? \"Uploading...\" : \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProfile, \"Sv0RtLtQcq5bJtPHlan1XyXAlE4=\", false, function () {\n  return [useParams];\n});\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useState","useEffect","useParams","supabase","Edit","UploadCloud","Briefcase","GraduationCap","Globe","Link","LinkIcon","X","Plus","Camera","jsxDEV","_jsxDEV","UserProfile","_s","id","user","setUser","loading","setLoading","editing","setEditing","uploading","setUploading","skillInput","setSkillInput","formData","setFormData","name","email","bio","skills","experience","education","linkedin","github","portfolio","profile_picture","console","error","fetchUser","data","from","select","eq","single","alert","parsedUser","split","map","s","trim","handleEdit","handleChange","e","target","value","handleSave","dataToUpdate","Array","isArray","join","update","handleAddSkill","includes","handleRemoveSkill","skillToRemove","filter","skill","uploadProfilePicture","file","files","fileExt","pop","fileName","Math","random","toString","substring","filePath","uploadError","storage","upload","publicUrl","getPublicUrl","updatedData","updateError","className","children","_jsxFileName","lineNumber","columnNumber","src","alt","type","accept","onChange","disabled","onClick","placeholder","rows","index","onKeyPress","key","href","rel","_c","$RefreshReg$"],"sources":["/home/alvin/Documents/quicktask-frontend/src/pages/UserProfile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport supabase from \"../utils/supabaseClient\";\nimport { Edit, UploadCloud, Briefcase, GraduationCap, Globe, Link as LinkIcon, X, Plus, Camera } from \"lucide-react\";\n\nconst UserProfile = () => {\n  const { id } = useParams();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [editing, setEditing] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [skillInput, setSkillInput] = useState(\"\");\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    bio: \"\",\n    skills: [],\n    experience: \"\",\n    education: \"\",\n    linkedin: \"\",\n    github: \"\",\n    portfolio: \"\",\n    profile_picture: \"\",\n  });\n\n  useEffect(() => {\n    if (!id) {\n      console.error(\"No user ID found in URL\");\n      return;\n    }\n\n    fetchUser();\n  }, [id]);\n\n  const fetchUser = async () => {\n    const { data, error } = await supabase.from(\"users\").select(\"*\").eq(\"id\", id).single();\n\n    if (error) {\n      console.error(\"Error fetching user:\", error);\n      alert(\"Failed to fetch user data.\");\n    } else {\n      // Convert skills string to array if needed\n      const parsedUser = {\n        ...data,\n        skills: typeof data.skills === 'string' ? data.skills.split(',').map(s => s.trim()) : (data.skills || [])\n      };\n      setUser(parsedUser);\n      setFormData(parsedUser);\n    }\n\n    setLoading(false);\n  };\n\n  const handleEdit = () => setEditing(!editing);\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSave = async () => {\n    // Convert skills array back to string for storage\n    const dataToUpdate = {\n      ...formData,\n      skills: Array.isArray(formData.skills) ? formData.skills.join(', ') : formData.skills\n    };\n\n    const { error } = await supabase.from(\"users\").update(dataToUpdate).eq(\"id\", id);\n    if (error) {\n      console.error(\"Error updating profile:\", error);\n      alert(\"Failed to update profile.\");\n    } else {\n      setUser(formData);\n      setEditing(false);\n    }\n  };\n\n  const handleAddSkill = () => {\n    if (skillInput.trim() && !formData.skills.includes(skillInput.trim())) {\n      setFormData({\n        ...formData,\n        skills: [...formData.skills, skillInput.trim()]\n      });\n      setSkillInput(\"\");\n    }\n  };\n\n  const handleRemoveSkill = (skillToRemove) => {\n    setFormData({\n      ...formData,\n      skills: formData.skills.filter(skill => skill !== skillToRemove)\n    });\n  };\n\n  const uploadProfilePicture = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    setUploading(true);\n    \n    // Create a unique file name\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${id}-${Math.random().toString(36).substring(2)}.${fileExt}`;\n    const filePath = `profile-pictures/${fileName}`;\n\n    // Upload to Supabase Storage\n    const { error: uploadError } = await supabase.storage\n      .from('avatars')\n      .upload(filePath, file);\n\n    if (uploadError) {\n      console.error(\"Error uploading image:\", uploadError);\n      alert(\"Failed to upload profile picture.\");\n      setUploading(false);\n      return;\n    }\n\n    // Get public URL\n    const { data: { publicUrl } } = supabase.storage\n      .from('avatars')\n      .getPublicUrl(filePath);\n\n    // Update user profile with new image URL\n    const updatedData = { ...formData, profile_picture: publicUrl };\n    const { error: updateError } = await supabase\n      .from('users')\n      .update(updatedData)\n      .eq('id', id);\n\n    if (updateError) {\n      console.error(\"Error updating profile with new image:\", updateError);\n      alert(\"Failed to update profile with new image.\");\n    } else {\n      setFormData(updatedData);\n      setUser(updatedData);\n    }\n\n    setUploading(false);\n  };\n\n  if (loading) return <p className=\"text-center text-gray-500\">Loading user profile...</p>;\n  if (!user) return <p className=\"text-center text-red-500\">User not found.</p>;\n\n  return (\n    <div className=\"max-w-4xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden\">\n      {/* Cover Photo */}\n      <div className=\"h-40 bg-gray-300 relative\">\n        <img\n          src=\"https://source.unsplash.com/random/1200x400?nature\"\n          alt=\"Cover\"\n          className=\"w-full h-full object-cover\"\n        />\n        {editing && (\n          <label className=\"absolute bottom-2 right-2 bg-white p-2 rounded-full shadow cursor-pointer\">\n            <UploadCloud className=\"h-5 w-5 text-gray-600\" />\n            <input type=\"file\" className=\"hidden\" accept=\"image/*\" />\n          </label>\n        )}\n      </div>\n\n      {/* Profile Header */}\n      <div className=\"p-6 relative\">\n        {/* Profile Picture */}\n        <div className=\"relative w-24 h-24 rounded-full overflow-hidden border-4 border-white shadow-lg absolute -top-12 left-6\">\n          <img\n            src={user.profile_picture || \"https://i.pravatar.cc/100\"}\n            alt=\"Profile\"\n            className=\"w-full h-full object-cover\"\n          />\n          {editing && (\n            <label className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 cursor-pointer\">\n              <Camera className=\"h-6 w-6 text-white\" />\n              <input \n                type=\"file\" \n                className=\"hidden\" \n                accept=\"image/*\" \n                onChange={uploadProfilePicture} \n                disabled={uploading}\n              />\n            </label>\n          )}\n        </div>\n\n        {/* Edit Button */}\n        <button\n          className=\"absolute top-4 right-4 bg-gray-200 hover:bg-gray-300 p-2 rounded-full\"\n          onClick={handleEdit}\n        >\n          <Edit className=\"h-5 w-5\" />\n        </button>\n\n        <div className=\"mt-6 ml-32\">\n          <h1 className=\"text-2xl font-bold\">{user.name}</h1>\n          <p className=\"text-gray-500\">{user.email}</p>\n          {editing ? (\n            <textarea\n              name=\"bio\"\n              value={formData.bio}\n              onChange={handleChange}\n              placeholder=\"Write your bio here...\"\n              className=\"w-full p-2 border rounded mt-2\"\n              rows=\"3\"\n            />\n          ) : (\n            <p className=\"mt-2 text-gray-700\">{user.bio || \"No bio available.\"}</p>\n          )}\n        </div>\n      </div>\n\n      {/* User Details */}\n      <div className=\"p-6\">\n        {/* Skills */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-xl font-semibold mb-2\">Skills</h2>\n          <div className=\"flex flex-wrap gap-2\">\n            {Array.isArray(formData.skills) && formData.skills.map((skill, index) => (\n              <div key={index} className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center\">\n                {skill}\n                {editing && (\n                  <button \n                    onClick={() => handleRemoveSkill(skill)}\n                    className=\"ml-2 text-blue-600 hover:text-blue-800\"\n                  >\n                    <X className=\"h-4 w-4\" />\n                  </button>\n                )}\n              </div>\n            ))}\n            {editing && (\n              <div className=\"flex items-center\">\n                <input\n                  type=\"text\"\n                  value={skillInput}\n                  onChange={(e) => setSkillInput(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && handleAddSkill()}\n                  placeholder=\"Add skill\"\n                  className=\"p-1 border rounded-l w-32\"\n                />\n                <button \n                  onClick={handleAddSkill}\n                  className=\"bg-blue-500 text-white p-1 rounded-r\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Experience */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-xl font-semibold mb-2 flex items-center\">\n            <Briefcase className=\"h-5 w-5 mr-2 text-blue-500\" /> Experience\n          </h2>\n          {editing ? (\n            <textarea\n              name=\"experience\"\n              value={formData.experience}\n              onChange={handleChange}\n              placeholder=\"Add your work experience\"\n              className=\"w-full p-2 border rounded\"\n              rows=\"3\"\n            />\n          ) : (\n            <p className=\"text-gray-700\">{user.experience || \"No experience details available.\"}</p>\n          )}\n        </div>\n\n        {/* Education */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-xl font-semibold mb-2 flex items-center\">\n            <GraduationCap className=\"h-5 w-5 mr-2 text-green-500\" /> Education\n          </h2>\n          {editing ? (\n            <textarea\n              name=\"education\"\n              value={formData.education}\n              onChange={handleChange}\n              placeholder=\"Add your education\"\n              className=\"w-full p-2 border rounded\"\n              rows=\"3\"\n            />\n          ) : (\n            <p className=\"text-gray-700\">{user.education || \"No education details available.\"}</p>\n          )}\n        </div>\n\n        {/* Social Links */}\n        <div>\n          <h2 className=\"text-xl font-semibold mb-2 flex items-center\">\n            <Globe className=\"h-5 w-5 mr-2 text-indigo-500\" /> Social Links\n          </h2>\n          {editing ? (\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center\">\n                <span className=\"w-24\">LinkedIn:</span>\n                <input\n                  type=\"text\"\n                  name=\"linkedin\"\n                  value={formData.linkedin}\n                  onChange={handleChange}\n                  placeholder=\"LinkedIn URL\"\n                  className=\"flex-1 p-2 border rounded\"\n                />\n              </div>\n              <div className=\"flex items-center\">\n                <span className=\"w-24\">GitHub:</span>\n                <input\n                  type=\"text\"\n                  name=\"github\"\n                  value={formData.github}\n                  onChange={handleChange}\n                  placeholder=\"GitHub URL\"\n                  className=\"flex-1 p-2 border rounded\"\n                />\n              </div>\n              <div className=\"flex items-center\">\n                <span className=\"w-24\">Portfolio:</span>\n                <input\n                  type=\"text\"\n                  name=\"portfolio\"\n                  value={formData.portfolio}\n                  onChange={handleChange}\n                  placeholder=\"Portfolio URL\"\n                  className=\"flex-1 p-2 border rounded\"\n                />\n              </div>\n            </div>\n          ) : (\n            <ul className=\"text-blue-600\">\n              {user.linkedin && (\n                <li className=\"mb-1\">\n                  <a href={user.linkedin} target=\"_blank\" rel=\"noopener noreferrer\" className=\"flex items-center hover:text-blue-800\">\n                    <LinkIcon className=\"h-4 w-4 mr-2\" /> LinkedIn\n                  </a>\n                </li>\n              )}\n              {user.github && (\n                <li className=\"mb-1\">\n                  <a href={user.github} target=\"_blank\" rel=\"noopener noreferrer\" className=\"flex items-center hover:text-blue-800\">\n                    <LinkIcon className=\"h-4 w-4 mr-2\" /> GitHub\n                  </a>\n                </li>\n              )}\n              {user.portfolio && (\n                <li>\n                  <a href={user.portfolio} target=\"_blank\" rel=\"noopener noreferrer\" className=\"flex items-center hover:text-blue-800\">\n                    <LinkIcon className=\"h-4 w-4 mr-2\" /> Portfolio\n                  </a>\n                </li>\n              )}\n              {!user.linkedin && !user.github && !user.portfolio && (\n                <li className=\"text-gray-500\">No social links added yet.</li>\n              )}\n            </ul>\n          )}\n        </div>\n      </div>\n\n      {/* Save Button */}\n      {editing && (\n        <div className=\"p-6 border-t flex justify-end\">\n          <button \n            onClick={() => setEditing(false)} \n            className=\"bg-gray-300 text-gray-700 px-4 py-2 rounded mr-2\"\n          >\n            Cancel\n          </button>\n          <button \n            onClick={handleSave} \n            className=\"bg-blue-500 text-white px-4 py-2 rounded\"\n            disabled={uploading}\n          >\n            {uploading ? \"Uploading...\" : \"Save Changes\"}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}